<div class="table-responsive">
  <table class="table table-hover">
    <thead>
      <tr>
        <th>
          <input type="checkbox" id="select-all" onclick="toggleAll()">
        </th>
        <th>Title</th>
        <th>Type</th>
        <th>Status</th>
        <th>Embeddings</th>
        <th>Size</th>
        <th>Created</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% documents.each do |document| %>
        <tr>
          <td>
            <input type="checkbox" name="document_ids[]" value="<%= document.id %>" class="document-checkbox">
          </td>
          <td>
            <%= link_to document.title, document_path(document), class: "text-decoration-none" %>
          </td>
          <td>
            <span class="badge bg-secondary"><%= document.document_type&.upcase %></span>
          </td>
          <td>
            <%= render StatusBadgeComponent.new(status: document.status) %>
          </td>
          <td>
            <span class="badge bg-info"><%= document.all_embeddings.count %></span>
          </td>
          <td>
            <%= character_count_display(document) %>
          </td>
          <td>
            <small class="text-muted"><%= time_ago_in_words(document.created_at) %> ago</small>
          </td>
          <td>
            <div class="btn-group btn-group-sm">
              <% document_actions(document).each do |action| %>
                <% if action[:onclick] %>
                  <button type="button" 
                          class="<%= action[:class] %>" 
                          data-bs-toggle="tooltip" 
                          data-bs-placement="top" 
                          title="<%= action[:title] %>" 
                          onclick="<%= action[:onclick] %>">
                    <i class="<%= action[:icon] %>"></i>
                    <%= action[:text] if action[:text] %>
                  </button>
                <% else %>
                  <%= link_to action[:path], 
                              class: action[:class], 
                              data: { 
                                bs_toggle: "tooltip", 
                                bs_placement: "top",
                                confirm: action[:confirm]
                              }.compact,
                              title: action[:title],
                              method: action[:method],
                              target: action[:target] do %>
                    <i class="<%= action[:icon] %>"></i>
                  <% end %>
                <% end %>
              <% end %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>